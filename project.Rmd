†---
title: "STAT331 Project"
author: "Sijie Jin, Raymond Tan, Yinong Wang"
date: '2018-11-14'
output: 
  pdf_document:
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Summary

# Model Selection

## Pre-fitting data diagnostic

```{r}
# read in data
births.raw = read.csv("chds_births.csv")
```

### Summary of Data

```{r}
head(births.raw, 10)
summary(births.raw)
```

```{r}
# Validating marital
births.raw$marital[!births.raw$marital %in% c(1:5)] = NA
```


```{r}
# Categorize meth
meth.categories = c(rep('Caucasian', 6), 'Mexican', 'African-American', 'Asian', 'Mixed', 'Other')
for (i in 1:length(table(births.raw$meth))) {
  births.raw$meth[births.raw$meth == i-1] = meth.categories[i]
  births.raw$feth[births.raw$feth == i-1] = meth.categories[i]
}

# Categorize med
med.categories = c('elementary school', 'middle school', 'high school', 'high school + trade school', 'high school + some college', 'college graduate', 'trade school', 'high school unclear')
for (i in 1:length(table(births.raw$med))) {
  births.raw$med[births.raw$med == i-1] = med.categories[i]
  births.raw$fed[births.raw$fed == i-1] = med.categories[i]
}

# Categorize marital
marital.categories = c('married', 'legally separated', 'divorced', 'widowed', 'never married')
for (i in 1:length(table(births.raw$marital))) {
  births.raw$marital[births.raw$marital == i] = marital.categories[i]
}

# Categorize income
income.categories = c('under 2500', '2500-4999', '5000-7499', '7500-9999', '10000-12499', '12500-14999', '15000-17499', '17500-19999', '20000-22499', 'over 22500')
for (i in 1:length(table(births.raw$income))) {
  births.raw$income[births.raw$income == i-1] = income.categories[i]
}

# Categorize smoke
smoke.categories = c('never', 'smokes now', 'until pregnancy', 'used to, not anymore')
for (i in 1:length(table(births.raw$smoke))) {
  births.raw$smoke[births.raw$smoke == i-1] = smoke.categories[i]
}

# Categorize time
time.categories = c('never smoked', 'still smokes', 'during pregnancy', 'less than a year', '1-2 years', '2-3 years', '3-4 years', '5-9 years', 'more than 10 years', 'quit but don’t know when')
for (i in 1:length(table(births.raw$time))) {
  births.raw$time[births.raw$time == i-1] = time.categories[i]
}

# Categorize number
number.categories = c('never smoked', '1-4', '5-9', '10-14', '15-19', '20-29', '30=39', '40-60', 'more than 60', 'smoked but don’t know how much')
for (i in 1:length(table(births.raw$number))) {
  births.raw$number[births.raw$number == i-1] = number.categories[i]
}

head(births.raw, 10)
```

### NA's and $\pm$Inf's

```{r}
proportion <- sapply(births.raw, function(x) { sum(is.na(x))*100/nrow(births.raw) })
proportion

births.reduced <- births.raw[, !names(births.raw) %in% c('fht', 'fwt')]

births.mice <- mice(births.reduced)
births.clean <- complete(births.mice)
```

## Automated Model Selection

### Forward Model Selection

```{r}

```

### Backward Model Selection

```{r}

```

### Stepwise Model Selection

```{r}

```

## Manual Model Selection

### Cross Validation

```{r}

```

### PRESS Statistics

### Akaike Information Criterion

## Conclusion

# Model Diagnostics

## Linear Model Assumptions

## Colinearity

## Outliers

# Conclusions

